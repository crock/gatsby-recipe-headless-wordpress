# Setup Gatsby with WPGraphQL

This recipes setups and configures gatsby-source-graphql and starter templates for a WordPress-powered Gatsby site.

---

Install necessary NPM packages

<NPMPackage name="gatsby-source-graphql" />

---

Setup necessary files

<File
  path="./plugins/gatsby-plugin-graphql/gatsby-node.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/gatsby-node.wpgraphql.js"
/>

<File
  path="./plugins/gatsby-plugin-graphql/package.json"
  content="https://gist.githubusercontent.com/crock/8e310872e9b3dd6753ee4d63f33a05f8/raw/d9b5df87d7eb1f72e3724f9ba1ba4799210dabad/package.json"
/>

<File
  path="src/templates/post.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/templates/post.js"
/>
<File
  path="src/styles/post.css"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/styles/post.css"
/>


<File
  path="src/templates/page.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/templates/page.js"
/>
<File
  path="src/styles/page.css"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/styles/page.css"
/>


<File
  path="src/templates/category.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/templates/category.js"
/>
<File
  path="src/styles/category.css"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/styles/category.css"
/>


<File
  path="src/templates/tag.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/templates/tag.js"
/>
<File
  path="src/styles/tag.css"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/styles/tag.css"
/>


<File
  path="src/templates/user.js"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/templates/user.js"
/>
<File
  path="src/styles/user.css"
  content="https://raw.githubusercontent.com/crock/gatsby-recipe-headless-wordpress/master/wpgraphql-src/styles/user.css"
/>
---

Install necessary Gatsby Plugins

<GatsbyPlugin name="gatsby-source-graphql" options={{
  typeName: 'WORDPRESS',
  fieldName: 'wordpress',
  url: 'https://cms.digipresence.org/admintuts/graphql',
}} />

<GatsbyPlugin name="gatsby-plugin-graphql" isLocal={true}  />

---

You are good to go! 
